!function(n){function t(t){for(var o,r,c=t[0],s=t[1],u=t[2],f=0,d=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(e,r)&&e[r]&&d.push(e[r][0]),e[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o]);for(l&&l(t);d.length;)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var n,t=0;t<i.length;t++){for(var a=i[t],o=!0,c=1;c<a.length;c++){var s=a[c];0!==e[s]&&(o=!1)}o&&(i.splice(t--,1),n=r(r.s=a[0]))}return n}var o={},e={0:0},i=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return n[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=n,r.c=o,r.d=function(n,t,a){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:a})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)r.d(a,o,function(t){return n[t]}.bind(null,o));return a},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([150,1]),a()}({149:function(n,t,a){var o=a(10)(".audio_model span"),e=["icon-ziyuanldpi","icon-danquxunhuan","icon-suiji"];o.on("click",(function(){o.hasClass(e[0])?o.removeClass(e[0]).addClass(e[1]):o.hasClass(e[1])?o.removeClass(e[1]).addClass(e[2]):o.hasClass(e[2])&&o.removeClass(e[2]).addClass(e[0])}))},150:function(n,t,a){"use strict";a.r(t);a(93);var o=a(15),e=a.n(o),i=(a(111),a(119),a(120),a(121),a(72),a(131),a(79),a(132),a(134),a(135),a(136),a(91)),r=a.n(i),c=a(92),s=a.n(c),u=new(function(){function n(){r()(this,n),this.audio=new Audio,this.status="pause"}return s()(n,[{key:"load",value:function(n){this.audio.src=n,this.audio.load(),this.play()}},{key:"play",value:function(){this.audio.play(),this.status="play"}},{key:"pause",value:function(){this.audio.pause(),this.status="pause"}},{key:"end",value:function(n){this.audio.onended=n}},{key:"playTo",value:function(n){this.audio.currentTime=n}},{key:"currTime",value:function(){return this.audio.currentTime}},{key:"loop",value:function(){this.audio.loop="loop"}}]),n}());a(137),a(83),a(138),a(86),a(87),a(88);var l=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;if("string"!=typeof n)throw new Error("请传入图片地址");var e="a"+Math.ceil(1e7*Math.random());return'\n    <svg width="'.concat(t,'" height="').concat(a,'">\n      <filter id="').concat(e,'">\n        <feGaussianBlur in="SourceGraphic" stdDeviation="').concat(o,'"></feGaussianBlur>\n      </filter>\n      <image xlink:href="').concat(n,'"\n        filter="url(#').concat(e,')" width="').concat(t,'" height="').concat(a,'">\n    </svg>\n  ')},f=a(10),d=a(15),p=f(".song_img_img"),g=f(".song_info_name"),h=f(".song_info_singer"),v=f(".song_info_album"),m=null,y=0;function b(){f(".song_img_bar").css({transform:"rotate(1deg)"}),m=setInterval((function(){y+=.2,p.css({transform:"translate(-50%, -50%) rotate(".concat(y,"deg)")})}),1e3/60)}var _=function(n){f(".music-list").removeClass("music-list"),f('a[data-id="'.concat(n,'"]')).addClass("music-list").next().addClass("music-list")},x=function(n){clearInterval(m),y=0,d.get("https://autumnfish.cn/album",{params:{id:n}}).then((function(n){var t=n.data.album.picUrl,a=t;f(".song_img svg").length>0?f(".song_img svg image")[0].href.baseVal=a:f(".song_img").append(l(a)).find("svg").css({position:"absolute",left:0,top:0}),f(".song_img_img").css({background:"url(".concat(t,")"),"background-size":"cover"}),b(),f(".icon-icon-1").next().on("click",(function(){"pause"===u.status?(f(".song_img_bar").css({transform:"rotate(-35deg)"}),clearInterval(m)):(clearInterval(m),b())}))})).catch((function(n){console.log(n)}))},k=function(n){g.text(n.name),h.text(n.artists[0].name),v.text(n.album.name)},w=function(n){f(".song_lyrics_roll").html("");var t=[];return n.forEach((function(n){var a=n.substr(0,n.indexOf("]")+1),o=n.substr(n.indexOf("]")+1);t.push([a,o]),f('<p data-time="'.concat(a,'">')).appendTo(".song_lyrics_roll").text(o).css({position:"relative"})})),t},C=function(){var n=f(".music-list").position().top;f(".song-list").animate({scrollTop:n-100},700)},S=(a(139),a(89),a(141),a(144),a(15)),T=a(10),j=T(".song_lyrics_roll"),O=[],I=function(n){S.get("https://autumnfish.cn/lyric",{params:{id:n}}).then((function(n){var t=n.data.lrc.lyric;O=t.split("\n"),O=w(O)})).catch((function(n){console.log(n)}))},M=function(n){var t=0;O.forEach((function(a){a[0].includes(n)&&a[1]&&(T(".song_lyric_active").removeClass("song_lyric_active"),T('p[data-time="'.concat(a[0],'"]')).addClass("song_lyric_active"),t=T('p[data-time="'.concat(a[0],'"]')).position().top,j.offsetParent().animate({paddingTop:t>=260?260:t,scrollTop:t},500))}))},P=a(10),z=P(".audio_bar_currTime"),A=P(".audio_bar_endTime"),E=P(".audio_bar_curr"),U=P(".audio_bar_block"),q=P(".audio_bar_progress"),G=null,L=0,B=0,J=0;function D(n,t,a){var o=Math.floor(u.currTime());a=o%60,t=(t=Math.floor(o/60))<=9?"0".concat(t):t,a=a<=9?"0".concat(a):a,z.text("".concat(t,":").concat(a)),M("".concat(t,":").concat(a)),L=E.parent().width(),B=o/n*L,U.css({left:B}),E.css({width:B}),o>=n&&(P(".icon-danquxunhuan")[0]?u.loop():P(".icon-icon-").trigger("click"))}var V=function(n){clearInterval(G);var t=Math.floor(n.duration/1e3),a=Math.floor(t/60),o=t%60;a=a<=9?"0".concat(a):a,o=o<=9?"0".concat(o):o,A.text("".concat(a,":").concat(o)),G=setInterval((function(){D(t,a,o)}),500),U[0].ondragstart=function(n){clearInterval(G);var e=n.x;P(document)[0].ondrag=function(n){var t=n.x;0!==t&&(B+=t-e,U.css({left:B}),E.css({width:B}));e=n.x},P(document)[0].ondragend=function(){J=B/L*t,u.playTo(J),G=setInterval((function(){D(t,a,o)}),500),P(document).off("mousemove")}},q.on("click",(function(n){clearInterval(G),B=n.pageX-q.offset().left-5,U.css({left:B}),E.css({width:B}),J=B/L*t,u.playTo(J),G=setInterval((function(){D(t,a,o)}),500)}))},X=a(10),$=a(15);function F(n,t){var a=X(".song-list dd a").index(X(".music-list"))+t;a===n.length&&1===t?a=0:-1===a&&-1===t&&(a=n.length-1),X(".icon-suiji")[0]&&(a=Math.floor(Math.random()*n.length)),function(n){"pause"===u.status&&X(".icon-bofang").removeClass("icon-bofang").addClass("icon-zanting"),$.get("https://autumnfish.cn/song/url",{params:{id:n.id}}).then((function(t){var a=t.data.data;a[0].url&&(u.load(a[0].url),u.status="play",I(n.id),_(n.id),x(n.album.id),V(n),k(n),C())})).catch((function(n){console.log(n)}))}(n[a].song||n[a])}var H=function(n){var t=X(".icon-icon-"),a=X(".icon-icon-1");t.off("click"),t.on("click",(function(){F(n,1)})),a.off("click"),a.on("click",(function(){F(n,-1)}))};function K(n,t){var a;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(a=function(n,t){if(!n)return;if("string"==typeof n)return N(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);"Object"===a&&n.constructor&&(a=n.constructor.name);if("Map"===a||"Set"===a)return Array.from(n);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(n,t)}(n))||t&&n&&"number"==typeof n.length){a&&(n=a);var o=0,e=function(){};return{s:e,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,c=!1;return{s:function(){a=n[Symbol.iterator]()},n:function(){var n=a.next();return r=n.done,n},e:function(n){c=!0,i=n},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function N(n,t){(null==t||t>n.length)&&(t=n.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=n[a];return o}var Q=a(15),R=a(10),W=[],Y=0,Z=R(".top_search input"),nn=R(".song-list dl");var tn={musicSearch:function(){var n=this;R(".song-list dt").text("搜索结果"),R(".music-list").removeClass(".music-list");var t=Z.val();t&&(R(".song-list dd").remove(),Q.get("https://autumnfish.cn/search",{params:{keywords:t}}).then((function(t){var a=t.data;n.renderSongList(a)})).catch((function(n){console.log(n)})),Z.val(""))},renderSongList:function(n){var t=n.result,a=t.songs||t;W=[];var o,e=K(a);try{for(e.s();!(o=e.n()).done;){var i=o.value;this.getSongUrl(i.song||i)}}catch(n){e.e(n)}finally{e.f()}H(W)},getSongUrl:function(n){Q.get("https://autumnfish.cn/song/url",{params:{id:n.id}}).then((function(t){var a=t.data.data;a[0].url&&(W.push(n),function(n,t){R("<dd>").appendTo(nn).append(R('<a href="javascript:void(0)" data-id="'.concat(n.id,'">')).text(n.name)).append(R("<span>").text(n.artists[0].name));var a=R('a[data-id="'.concat(n.id,'"]')).parent();a.index()%2==0&&a.addClass("song-list-bg"),R('a[data-id="'.concat(n.id,'"]')).on("click",(function(){u.load(t[0].url),u.status="play",V(n),Y=n.id,_(Y),k(n),I(Y),x(n.album.id),R(".icon-bofang").removeClass("icon-bofang").addClass("icon-zanting")}))}(n,a))})).catch((function(n){console.log(n)}))}},an=a(10);a.n(an)()(".song-list dt").text("今日新音乐"),e.a.get("https://autumnfish.cn/personalized/newsong").then((function(n){var t=n.data;tn.renderSongList(t)}));var on=a(10),en=on(".top_search input"),rn=en.next();on(en).keydown((function(n){13===n.keyCode&&tn.musicSearch()})),rn.on("click",(function(){tn.musicSearch()}));var cn=a(10)(".audio_left span").eq(1);cn.on("click",(function(){"pause"===u.status?(u.play(),u.status="play",cn.removeClass("icon-bofang").addClass("icon-zanting")):(u.pause(),cn.removeClass("icon-zanting").addClass("icon-bofang"))}));a(149)},93:function(n,t,a){}});