!function(n){function t(t){for(var o,i,c=t[0],s=t[1],u=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(e,i)&&e[i]&&d.push(e[i][0]),e[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o]);for(l&&l(t);d.length;)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var n,t=0;t<r.length;t++){for(var a=r[t],o=!0,c=1;c<a.length;c++){var s=a[c];0!==e[s]&&(o=!1)}o&&(r.splice(t--,1),n=i(i.s=a[0]))}return n}var o={},e={0:0},r=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return n[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=n,i.c=o,i.d=function(n,t,a){i.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:a})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)i.d(a,o,function(t){return n[t]}.bind(null,o));return a},i.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(t,"a",t),t},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;r.push([149,1]),a()}({148:function(n,t,a){var o=a(10)(".audio_model span"),e=["icon-ziyuanldpi","icon-danquxunhuan","icon-suiji"];o.on("click",(function(){o.hasClass(e[0])?o.removeClass(e[0]).addClass(e[1]):o.hasClass(e[1])?o.removeClass(e[1]).addClass(e[2]):o.hasClass(e[2])&&o.removeClass(e[2]).addClass(e[0])}))},149:function(n,t,a){"use strict";a.r(t);a(92);var o=a(15),e=a.n(o),r=(a(110),a(118),a(119),a(120),a(71),a(130),a(79),a(131),a(133),a(134),a(135),a(90)),i=a.n(r),c=a(91),s=a.n(c),u=new(function(){function n(){i()(this,n),this.audio=new Audio,this.status="pause"}return s()(n,[{key:"load",value:function(n){this.audio.src=n,this.audio.load(),this.play()}},{key:"play",value:function(){this.audio.play(),this.status="play"}},{key:"pause",value:function(){this.audio.pause(),this.status="pause"}},{key:"end",value:function(n){this.audio.onended=n}},{key:"playTo",value:function(n){this.audio.currentTime=n}},{key:"currTime",value:function(){return this.audio.currentTime}},{key:"loop",value:function(){this.audio.loop="loop"}}]),n}());a(83),a(136),a(86),a(87);var l=function(n,t){var a=document.createElement("canvas");t=t||document.body,a.width=400,a.height=400;var o=a.getContext("2d"),e=new Image;e.crossOrigin="",e.src=n,e.onload=function(){o.drawImage(e,0,0,e.width,e.height,0,0,a.width,a.height);var n=function(n){var t,a,o,e,r,i,c,s,u,l,f=n.data,d=n.width,p=n.height,g=[],h=0;for(i=1/(5*Math.sqrt(2*Math.PI)),r=-.02,c=0,t=-10;t<=10;t++,c++)e=i*Math.exp(r*t*t),g[c]=e,h+=e;for(c=0,l=g.length;c<l;c++)g[c]/=h;for(a=0;a<p;a++)for(t=0;t<d;t++){for(o=e=r=i=0,h=0,s=-10;s<=10;s++)(u=t+s)>=0&&u<d&&(o+=f[c=4*(a*d+u)]*g[s+10],e+=f[c+1]*g[s+10],r+=f[c+2]*g[s+10],h+=g[s+10]);f[c=4*(a*d+t)]=o/h,f[c+1]=e/h,f[c+2]=r/h}for(t=0;t<d;t++)for(a=0;a<p;a++){for(o=e=r=i=0,h=0,s=-10;s<=10;s++)(u=a+s)>=0&&u<p&&(o+=f[c=4*(u*d+t)]*g[s+10],e+=f[c+1]*g[s+10],r+=f[c+2]*g[s+10],h+=g[s+10]);f[c=4*(a*d+t)]=o/h,f[c+1]=e/h,f[c+2]=r/h}return n}(o.getImageData(0,0,a.width,a.height));o.putImageData(n,0,0);var r=a.toDataURL();t.style.backgroundImage="url("+r+")",t.style.backgroundSize="cover",t.style.backgroundPositionY="20%"}},f=a(10),d=a(15),p=f(".song_img_img"),g=f(".song_info_name"),h=f(".song_info_singer"),v=f(".song_info_album"),m=null,y=0;function b(){f(".song_img_bar").css({transform:"rotate(1deg)"}),m=setInterval((function(){y+=.2,p.css({transform:"translate(-50%, -50%) rotate(".concat(y,"deg)")})}),1e3/60)}var _=function(n){f(".music-list").removeClass("music-list"),f('a[data-id="'.concat(n,'"]')).addClass("music-list").next().addClass("music-list")},w=function(n){clearInterval(m),y=0,d.get("https://autumnfish.cn/album",{params:{id:n}}).then((function(n){var t=n.data.album.picUrl;l(t,f(".song_img")[0]),f(".song_img_img").css({background:"url(".concat(t,")"),"background-size":"cover"}),b(),f(".icon-icon-1").next().on("click",(function(){"pause"===u.status?(f(".song_img_bar").css({transform:"rotate(-35deg)"}),clearInterval(m)):(clearInterval(m),b())}))})).catch((function(n){console.log(n)}))},x=function(n){g.text(n.name),h.text(n.artists[0].name),v.text(n.album.name)},k=function(n){f(".song_lyrics_roll").html("");var t=[];return n.forEach((function(n){var a=n.substr(0,n.indexOf("]")+1),o=n.substr(n.indexOf("]")+1);t.push([a,o]),f('<p data-time="'.concat(a,'">')).appendTo(".song_lyrics_roll").text(o).css({position:"relative"})})),t},C=function(){var n=f(".music-list").position().top;f(".song-list").animate({scrollTop:n-100},700)},S=(a(137),a(88),a(139),a(142),a(15)),I=a(10),T=I(".song_lyrics_roll"),O=[],j=function(n){S.get("https://autumnfish.cn/lyric",{params:{id:n}}).then((function(n){var t=n.data.lrc.lyric;O=t.split("\n"),O=k(O)})).catch((function(n){console.log(n)}))},M=function(n){var t=0;O.forEach((function(a){a[0].includes(n)&&a[1]&&(I(".song_lyric_active").removeClass("song_lyric_active"),I('p[data-time="'.concat(a[0],'"]')).addClass("song_lyric_active"),t=I('p[data-time="'.concat(a[0],'"]')).position().top,T.offsetParent().animate({paddingTop:t>=260?260:t,scrollTop:t},500))}))},P=(a(147),a(10)),z=P(".audio_bar_currTime"),A=P(".audio_bar_endTime"),U=P(".audio_bar_curr"),q=P(".audio_bar_block"),E=P(".audio_bar_progress"),L=null,D=0,J=0,R=0;function X(n,t,a){var o=Math.floor(u.currTime());a=o%60,t=(t=Math.floor(o/60))<=9?"0".concat(t):t,a=a<=9?"0".concat(a):a,z.text("".concat(t,":").concat(a)),M("".concat(t,":").concat(a)),D=U.parent().width(),J=o/n*D,q.css({left:J}),U.css({width:J}),o>=n&&(P(".icon-danquxunhuan")[0]?u.loop():P(".icon-icon-").trigger("click"))}var Y=function(n){clearInterval(L);var t=Math.floor(n.duration/1e3),a=Math.floor(t/60),o=t%60;a=a<=9?"0".concat(a):a,o=o<=9?"0".concat(o):o,A.text("".concat(a,":").concat(o)),L=setInterval((function(){X(t,a,o)}),500),q[0].ondragstart=function(n){clearInterval(L);var e=n.x;P(document)[0].ondrag=function(n){var t=n.x;0!==t&&(J+=t-e,q.css({left:J}),U.css({width:J}));e=n.x},P(document)[0].ondragend=function(){R=J/D*t,u.playTo(R),L=setInterval((function(){X(t,a,o)}),500),P(document).off("mousemove")}},E.on("click",(function(n){clearInterval(L),J=n.pageX-E.offset().left-5,q.css({left:J}),U.css({width:J}),R=J/D*t,u.playTo(R),L=setInterval((function(){X(t,a,o)}),500)}))},$=a(10),B=a(15);function F(n,t){var a=$(".song-list dd a").index($(".music-list"))+t;a===n.length&&1===t?a=0:-1===a&&-1===t&&(a=n.length-1),$(".icon-suiji")[0]&&(a=Math.floor(Math.random()*n.length)),function(n){"pause"===u.status&&$(".icon-bofang").removeClass("icon-bofang").addClass("icon-zanting"),B.get("https://autumnfish.cn/song/url",{params:{id:n.id}}).then((function(t){var a=t.data.data;a[0].url&&(u.load(a[0].url),u.status="play",j(n.id),_(n.id),w(n.album.id),Y(n),x(n),C())})).catch((function(n){console.log(n)}))}(n[a].song||n[a])}var G=function(n){var t=$(".icon-icon-"),a=$(".icon-icon-1");t.off("click"),t.on("click",(function(){F(n,1)})),a.off("click"),a.on("click",(function(){F(n,-1)}))};function H(n,t){var a;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(a=function(n,t){if(!n)return;if("string"==typeof n)return K(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);"Object"===a&&n.constructor&&(a=n.constructor.name);if("Map"===a||"Set"===a)return Array.from(n);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(n,t)}(n))||t&&n&&"number"==typeof n.length){a&&(n=a);var o=0,e=function(){};return{s:e,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,c=!1;return{s:function(){a=n[Symbol.iterator]()},n:function(){var n=a.next();return i=n.done,n},e:function(n){c=!0,r=n},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw r}}}}function K(n,t){(null==t||t>n.length)&&(t=n.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=n[a];return o}var N=a(15),Q=a(10),V=[],W=0,Z=Q(".top_search input"),nn=Q(".song-list dl");var tn={musicSearch:function(){var n=this;Q(".song-list dt").text("搜索结果"),Q(".music-list").removeClass(".music-list");var t=Z.val();t&&(Q(".song-list dd").remove(),N.get("https://autumnfish.cn/search",{params:{keywords:t}}).then((function(t){var a=t.data;n.renderSongList(a)})).catch((function(n){console.log(n)})),Z.val(""))},renderSongList:function(n){var t=n.result,a=t.songs||t;V=[];var o,e=H(a);try{for(e.s();!(o=e.n()).done;){var r=o.value;this.getSongUrl(r.song||r)}}catch(n){e.e(n)}finally{e.f()}G(V)},getSongUrl:function(n){N.get("https://autumnfish.cn/song/url",{params:{id:n.id}}).then((function(t){var a=t.data.data;a[0].url&&(V.push(n),function(n,t){Q("<dd>").appendTo(nn).append(Q('<a href="javascript:void(0)" data-id="'.concat(n.id,'">')).text(n.name)).append(Q("<span>").text(n.artists[0].name));var a=Q('a[data-id="'.concat(n.id,'"]')).parent();a.index()%2==0&&a.addClass("song-list-bg"),Q('a[data-id="'.concat(n.id,'"]')).on("click",(function(){u.load(t[0].url),u.status="play",Y(n),W=n.id,_(W),x(n),j(W),w(n.album.id),Q(".icon-bofang").removeClass("icon-bofang").addClass("icon-zanting")}))}(n,a))})).catch((function(n){console.log(n)}))}},an=a(10);a.n(an)()(".song-list dt").text("今日新音乐"),e.a.get("https://autumnfish.cn/personalized/newsong").then((function(n){var t=n.data;tn.renderSongList(t)}));var on=a(10),en=on(".top_search input"),rn=en.next();on(en).keydown((function(n){13===n.keyCode&&tn.musicSearch()})),rn.on("click",(function(){tn.musicSearch()}));var cn=a(10)(".audio_left span").eq(1);cn.on("click",(function(){"pause"===u.status?(u.play(),u.status="play",cn.removeClass("icon-bofang").addClass("icon-zanting")):(u.pause(),cn.removeClass("icon-zanting").addClass("icon-bofang"))}));a(148)},92:function(n,t,a){}});